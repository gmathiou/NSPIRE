<ion-view class="map-page" cache-view="false">
    <ion-nav-title>Map</ion-nav-title>
    <ion-content>
        <div class="map-wrapper" data-tap-disabled="true">
            <ui-gmap-google-map center="map.center" zoom="map.zoom" options="map.options" pan="true">
                <ui-gmap-markers ng-if="map.markers" models="map.markers" idKey="'uid'" options="'options'" coords="'self'" click="markerTouched"></ui-gmap-markers>
            </ui-gmap-google-map>
        </div>
        <div class="image-slider">
            <ion-slides slider="data.slider" move="changed()">
                <ion-slide-page ng-repeat="photo in photos">
                    <div class="photo-slide">
                        <a class="item item-thumbnail-left" href="#/tab/home/photo/{{photo.id}}">
                            <img ng-src="{{photo.image_url}}">
                            <h2>{{$index + 1}}. {{photo.name | limitTo: 20}}</h2>
                            <p class="author">{{photo.user.fullname | limitTo: 20}}</p>
                            <p class="distance">{{distance(photo.latitude, photo.longitude) | number:1}}
                                km away
                            </p>
                        </a>
                    </div>
                </ion-slide-page>
            </ion-slides>
        </div>
    </ion-content>
</ion-view>